<!--
Scripting Languages Final Project
Author: Andrew Finch
Last Update: 02/18/2017
-->

<html>
    <head>
        <title>Whatever Games</title>
        
        <style type="text/css">
            header {
                text-align: center;
                background-color: lightskyblue;
                font-family: Arial;
                font-size: 300%;
            }
            
            main {
                text-align: center;
            }
        </style>
        
        <script>
            //Create a function to choose the word the user will guess and display
            //the clue and blank characters to them
            function startGame() {
                //Create a variable to hold the words for the Hangman game
                var phrases = new Array("JAVASCRIPT", "VARIABLE", "ARRAY", "FUNCTION", "BOOLEAN");
                
                //Create a variable to hold the clues for the Hangman game
                var clues = new Array("A language", "This can be changed", "Has many values",
                "You can call me", "True or false");
                
                //Create a variable to hold the number of incorrect responces
                var incorrect = 0;
                
                //Create a variable to select a word and the subsiquent clue at random
                //for the player to guess
                var random = Math.floor((Math.random() * phrases.length) + 1) - 1;
                
                //Return the values generated by the function
                return [phrases[random], clues[random], incorrect];
            }
            
            //Create variables to hold all the values from the startGame function
            var values = startGame();
            var phrase = values[0];
            var clue = values[1];
            var incorrect = values[2];
            
            //Create a function that displays the phrase to the user but hides all
            //the characters
            function hidePhrase() {
                //Create an array to hold all of the places in the phrase variable
                var display = new Array(phrase.length - 1);
                
                //A for loop that will populate the display array
                for(i=0;i<phrase.length;i++) {
                    //If the character being tested is a space, don't set the value to an
                    //underscore
                    if(phrase.charAt(i) === " "){
                        display[i] = " ";
                    } else {
                        //Else set the value to an underscore
                        display[i] = "_";
                    }
                }
                
                //return the display array
                return display;
            }
            
            hiddenPhrase = hidePhrase();
            
            //Create a function that displays the clue and hidden phrase to the user
            function display() {
                //Display game output to the user
                document.getElementById("clue").innerHTML = clue;
                document.getElementById("phrase").innerHTML = hiddenPhrase.join(" ");
                document.getElementById("incorrect").innerHTML = incorrect;
            }
            
            //Create a function to test the character the user selected
            function testCharacter(character) {
                //Create a variable to test if all the characters have been guessed
                var allCorrect = true;
                
                //A for loop that tests each of the elements in the hiddenPhrase array
                //to see if there are any underscores
                for(i=0;i<hiddenPhrase.length;i++) {
                    if(hiddenPhrase[i] === "_") {
                        allCorrect = false;
                    }
                }
                
                if(incorrect < 6 && allCorrect === false){
                    //Create a variable to decide whether or not the character matches any characters.
                    var match = false;

                    //A for loop to test the character passed to the function with each character
                    //from the phrase variable
                    for(i=0;i<phrase.length;i++) {
                        if(phrase.charAt(i) === character) {
                            hiddenPhrase[i] = character;
                            match = true;
                        }
                    }

                    //Test if match equals true or false and increment the incorrect counter
                    //if false
                    if(match === false) {
                        incorrect++;
                    }
                    
                    //Reset the allCorrect variable to true
                    allCorrect = true;
                    
                    //A for loop that tests each of the elements in the hiddenPhrase array
                    //to see if there are any underscores
                    for(i=0;i<hiddenPhrase.length;i++) {
                        if(hiddenPhrase[i] === "_") {
                            allCorrect = false;
                        }
                    }
                    
                    
                    if(incorrect === 6) {
                        //If the incorrect variable equals 6, display You Lose
                        document.getElementById("incorrect").innerHTML = "You Lose";
                    } else if(allCorrect === true) {
                        //If there are no underscores in the phrase display You Win
                        document.getElementById("incorrect").innerHTML = "You Win!";
                    } else {
                        //Else display the incorrect variable
                        document.getElementById("incorrect").innerHTML = incorrect;
                    }
                    
                    //Display the new hiddenPhrase variable
                    document.getElementById("phrase").innerHTML = hiddenPhrase.join(" ");
                }
            }
        </script>
    </head>
    
    <body onload="startGame(); display();">
        <header>
            <h1>Whatever Games</h1>
        </header>
        
        <main>
            <p><b>Guess the word from the description.</b></p>
            <p id="clue"></p>
            <p id="phrase"></p>
            <p id="incorrect"></p>
            
            <br>
            
            <a onclick="testCharacter('A')" href="javascript:void(0);">A</a>
            <a onclick="testCharacter('B')" href="javascript:void(0);">B</a>
            <a onclick="testCharacter('C')" href="javascript:void(0);">C</a>
            <a onclick="testCharacter('D')" href="javascript:void(0);">D</a>
            <a onclick="testCharacter('E')" href="javascript:void(0);">E</a>
            <a onclick="testCharacter('F')" href="javascript:void(0);">F</a>
            <a onclick="testCharacter('G')" href="javascript:void(0);">G</a>
            <a onclick="testCharacter('H')" href="javascript:void(0);">H</a>
            <a onclick="testCharacter('I')" href="javascript:void(0);">I</a>
            <a onclick="testCharacter('J')" href="javascript:void(0);">J</a>
            <a onclick="testCharacter('K')" href="javascript:void(0);">K</a>
            <a onclick="testCharacter('L')" href="javascript:void(0);">L</a>
            <a onclick="testCharacter('M')" href="javascript:void(0);">M</a>
            <br>
            <a onclick="testCharacter('N')" href="javascript:void(0);">N</a>
            <a onclick="testCharacter('O')" href="javascript:void(0);">O</a>
            <a onclick="testCharacter('P')" href="javascript:void(0);">P</a>
            <a onclick="testCharacter('Q')" href="javascript:void(0);">Q</a>
            <a onclick="testCharacter('R')" href="javascript:void(0);">R</a>
            <a onclick="testCharacter('S')" href="javascript:void(0);">S</a>
            <a onclick="testCharacter('T')" href="javascript:void(0);">T</a>
            <a onclick="testCharacter('U')" href="javascript:void(0);">U</a>
            <a onclick="testCharacter('V')" href="javascript:void(0);">V</a>
            <a onclick="testCharacter('W')" href="javascript:void(0);">W</a>
            <a onclick="testCharacter('X')" href="javascript:void(0);">X</a>
            <a onclick="testCharacter('Y')" href="javascript:void(0);">Y</a>
            <a onclick="testCharacter('Z')" href="javascript:void(0);">Z</a><br>
            <a href="game.html">Retry</a><br>
            <a href="index.html">Home</a>
        </main>
    </body>
</html>